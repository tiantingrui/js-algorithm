# 堆
+ 堆是一种特殊的完全二叉树
+ 所有的节点都大于等于（最大堆）或小于等于（最小堆）它的子节点

### JS 中的堆
+ JS 中通常用数组表示堆
+ 左侧子节点的位置是 2 * index + 1
+ 右侧子节点的位置是 2 * index + 2
+ 父节点的位置是 (index - 1) / 2

#### 堆的应用
+ 堆能高效、快速地找出最大值和最小值，时间复杂度是 O(1)
+ 找出第K个最大（最小）元素

#### 第K个最大元素
+ 构建一个最小堆，并将元素一次插入堆中
+ 当堆的容量超过K，就删除堆顶
+ 插入结束后，堆顶就是第K个最大元素

```js
const tree = {
  val: 1,
  left: {
    val: 3,
    left: 5,
    right: 9
  },
  right: {
    val: 6,
    left: 8
  }
}
// 按照广度优先遍历
[1, 3, 6, 5, 9, 8]
 0  1  2  3  4  5
```

### JavaScript 实现：最小堆类

#### 实现步骤
1. 在类里，声明一个数组，用来装元素
2. 主要方法：插入、删除堆顶、获取堆大小

#### 插入
1. 将值插入堆的底部，即数组的尾部
2. 然后上移：将这个值和它的父节点进行交换，直到父节点小于等于这个插入的值
3. 大小为K的堆中插入元素的时间复杂度为 O(logK)


